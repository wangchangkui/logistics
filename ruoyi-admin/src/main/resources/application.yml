# 数据源配置
spring:
  profiles:
#    active: release
    active: dev
  # 模板引擎
  thymeleaf:
    mode: HTML
    encoding: utf-8
    # 禁用缓存
    cache: false
  # 资源信息
  messages:
    # 国际化资源文件路径
    basename: static/i18n/messages
  jackson:
    time-zone: GMT+8
    date-format: yyyy-MM-dd HH:mm:ss
  # 文件上传
  servlet:
    multipart:
      # 单个文件大小
      max-file-size:  10MB
      # 设置总上传的文件大小
      max-request-size:  20MB
  # 服务模块
  devtools:
    restart:
      # 热部署开关
      enabled: true
  #  redis配置
  redis:
    port: 6565
    host: 101.37.253.142
  output:
    ansi:
      enabled: always
  rabbitmq:
    host: 101.37.253.142
    port: 5672
    username: admin
    password: admin
    listener:
      simple:
        concurrency: 10
        max-concurrency: 20
      direct:
        prefetch: 5
    virtual-host: my_vhost
    # 默认的一个交换机 和队列名称
    template:
      exchange: direct_ttl_exchange
      routing-key: ttl
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    driverClassName: com.mysql.cj.jdbc.Driver
    druid:
      # 主库数据源
      master:
        url: jdbc:mysql://101.37.253.142:7896/change?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
        username: root
        password: root
      # 从库数据源
      slave:
        # 从数据源开关/默认关闭
        enabled: false
        url:
        username: root
        password: root
      # 初始连接数
      initialSize: 5
      # 最小连接池数量
      minIdle: 10
      # 最大连接池数量
      maxActive: 20
      # 配置获取连接等待超时的时间
      maxWait: 60000
      # 配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒
      timeBetweenEvictionRunsMillis: 60000
      # 配置一个连接在池中最小生存的时间，单位是毫秒
      minEvictableIdleTimeMillis: 300000
      # 配置一个连接在池中最大生存的时间，单位是毫秒
      maxEvictableIdleTimeMillis: 900000
      # 配置检测连接是否有效
      validationQuery: SELECT 1 FROM DUAL
      testWhileIdle: true
      testOnBorrow: false
      testOnReturn: false
      webStatFilter:
        enabled: true
      statViewServlet:
        enabled: true
        # 设置白名单，不填则允许所有访问
        allow:
        url-pattern: /druid/*
        # 控制台管理用户名和密码
        login-username: root
        login-password: 123456
      filter:
        stat:
          enabled: true
          # 慢SQL记录
          log-slow-sql: true
          slow-sql-millis: 1000
          merge-sql: true
        wall:
          config:
            multi-statement-allow: true

# 项目相关配置
ruoyi:
  # 名称
  name: RuoYi
  # 版本
  version: 4.7.2
  # 版权年份
  copyrightYear: 2022
  # 获取ip地址开关
  addressEnabled: true
  # 免充值图片
  withOutPayImage: https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic.51yuansu.com%2Fpic3%2Fcover%2F00%2F87%2F12%2F58daf901f1663_610.jpg&refer=http%3A%2F%2Fpic.51yuansu.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1650543626&t=b59f3cf95957f0886d330c769e9e1910
  profile: d:/ziptest/
# 开发环境配置
server:
  servlet:
    # 应用的访问路径
    context-path: /
  tomcat:
    # tomcat的URI编码
    uri-encoding: UTF-8
    # 连接数满后的排队数，默认为100
    accept-count: 1000
    threads:
      # tomcat最大线程数，默认为200
      max: 800
      # Tomcat启动初始化的线程数，默认值10
      min-spare: 100
  port: 8119

# 日志配置
logging:
  level:
    com.ruoyi: debug
    org.springframework: warn

# 用户配置
user:
  password:
    # 密码错误{maxRetryCount}次锁定10分钟
    maxRetryCount: 5


mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true
    auto-mapping-behavior: full
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    jdbc-type-for-null: varchar
  global-config:
    db-config:
      logic-not-delete-value: 1
      logic-delete-value: 0
  mapper-locations: classpath*:mapper/**/*Mapper.xml
  type-aliases-package: com.ruoyi.**.domain

# PageHelper分页插件
pagehelper:
  helperDialect: mysql
  supportMethodsArguments: true
  params: count=countSql

# Shiro
shiro:
  user:
    # 登录地址
    loginUrl: /login
    # 权限认证失败地址
    unauthorizedUrl: /unauth
    # 首页地址
    indexUrl: /index

  cookie:
    # 设置Cookie的域名 默认空，即当前访问的域名
    domain:
    # 设置cookie的有效访问路径
    path: /
    # 设置HttpOnly属性
    httpOnly: true
    # 设置Cookie的过期时间，天为单位
    maxAge: 30
    # 设置密钥，务必保持唯一性（生成方式，直接拷贝到main运行即可）Base64.encodeToString(CipherUtils.generateNewKey(128, "AES").getEncoded()) （默认启动生成随机秘钥，随机秘钥会导致之前客户端RememberMe Cookie无效，如设置固定秘钥RememberMe Cookie则有效）
    cipherKey:
  session:
    # Session超时时间，-1代表永不过期（默认30分钟）
    expireTime: 30
    # 同步session到数据库的周期（默认1分钟）
    dbSyncPeriod: 1
    # 相隔多久检查一次session的有效性，默认就是10分钟
    validationInterval: 10
    # 同一个用户最大会话数，比如2的意思是同一个账号允许最多同时两个人登录（默认-1不限制）
    maxSession: -1
    # 踢出之前登录的/之后登录的用户，默认踢出之前登录的用户
    kickoutAfter: false


# 防止XSS攻击
xss:
  # 过滤开关
  enabled: true
  # 排除链接（多个用逗号分隔）
  excludes: /system/notice/*
  # 匹配链接
  urlPatterns: /system/*,/monitor/*,/tool/*

# 文件上传的地址
filePath:
  path: D:\ziptest
  osspath: "https://myxiaowang.oss-cn-beijing.aliyuncs.com/"
#阿里云配置
aliyun:
  #OSS的配置
  END_POINT: oss-cn-beijing.aliyuncs.com
  ACCESS_KEY_ID: LTAI5t9torMvuwRBQRxdgsJv
  ACCESS_KEY_SECRET: KtyIMhAEsoUCI9lHZUPkcgn8Xzt4Nc
  BUKKET_NAME: myxiaowang


  # 支付宝的配置
  PUBLIC_KEY: MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3DbeQxPcTQ+6MbGMz0P220VtYNWgQqv0RQqFNAGecO8Y7zzJ8Ab2C4hJs41at21JAoObowgXMQU6Pl2vpN0/Ly+U+1ylk1KmSDsrkbXdzdrC7Aoxq8rO9+DhLwhFItnta1UO4EMGw+fNDFFS0RC5mKCRRnw25NumkJ4Uk8SDkLS2GaJdoF53CXvuyIVC7LmGuWTmvFgVd0xZ/5uVVfrCv7pOUuRH6JqCtU3mOM61HO1aX3Q1jH8X5Ev/qV75cSQDaiFJvfg/c6aIO1cQNdUrMLbY/X0O9amQw23vViJYzohUU2LUDlXyo7GQ5+ZddWU6BiApkhOfq38/RnhcekEJRQIDAQAB
  MER_PRIVATE_KEY: MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCaWFKFwbXh5U+gUpVbRJ/xHjUcb34HeReVq3ZpuIlEfuVTphapWWnL0qsAOde0WTmN1YRnikEL43U5cDHY3/7H4lwaeeRkshHJC/wkNuDuACeKr9vaZk88sSXf7Xg4d+1C6NOLmWIvahFyuDK4vJEVkydMZvuuO1uWfcFB2UV/J+gb5/f2AajLUrVCMu0ex4xJk8vxZ8Xi0EZyx2xjcX9m6l3xP4QRh+slKl9gBO1gjj+jsczzUNvldx7XWVXBuLeqvvu3mEym6HPSIxUzqEjYuORK2kqZeeYMV2Iper7izXG+LEEmfCcCx0sjsW2swgcYumTpeYZp2UpMwsvmSsMfAgMBAAECggEAZxsBZaEV46XQH4WLiMC7J9PKHwjL5CoceztjixRffoZWpB6bnN3CMwq0eR4q3quMKxerr49IDK0SLiCo6/wWs2ifpoAu9qWOBAQhl/+hGty3jYoVEDywShb8+i4k1XQn5z6psuPwF0SAC2bJW2d8dDEtW3igQLAeatXvOBHwvxPcAku2xs1fEu8MIftYCb5A4v6mbRQI5TYgpmAvGHAeyl1gEVcKOZuor6DgFnVT3nb2EZ4Ei2Zr8BrkagTxd0d+VuNGGxqq6ccv+Lfg7zmHF66c7D2pHAR/wrzOLW0Jt/mMMBjI8XisLxg+kkKJjUdPPi4SmDWvy/sTGW9Ee085wQKBgQDHL4EIedoVbCapHHX6EaOT0xu2FuO4LAb3OQb7+Bu8hISdSNNxUZT8SvqiFOdXWyuYlsmMClq9WLKpJMLk1nCVXzpGf3/COZOcvDhnxcgxQhMNHW3cbaSFrKnDD0qb6Nbz8G4k9RQw1bJhi/7JoY3eZ5hxvDAiM7/rTtOuBD43RwKBgQDGXpGXjGjYZJYIElPlAtvqPAtcoeACnrlexttUIzSxWdj6sfhp8VZBbAkN9+MHLnbnpjne8hzhQQ/XdgwYG299RFQNMnpSOBWPlXwg0NKbK/UgxJ9pdchBkvHv+ILw6qWb5YYz5Z010h3iZbUlA/inDsD4xu6LwOZpC+hAmgKxaQKBgQCm2Pr8D54HjdWAmO+WLopYPGEdEWVlE7QuCJ36GKWbL2IqoiND6/Ohtmjlth7nBN6q7bwcS1wg+ZiGqN18dMhPxzn4bbqmBjbI9r1E596+rDtrI/ivyUQkGTMGyttTaCIOqpqI6KYmFgtbPLqLSYGeCCchNmMXc0PTJu+X98Pp5wKBgAuSUq3je+47l+DqqMgwLYHxdLw3mSit96RGt16mGxnJYvXk0dfkQyLX2YNeFXlCxZ7nvHJ77yFYuULZWQVC/HLzPG/0pNwM930DvFTxuYdhvg/mSGJPg5oHp2NXPNQu6/A3KGf4mf4cvq+JPVLmc2fTXYBlol62pvozvp2eHlAZAoGAWI7kB1LQ/AqWd5J+liWOquwLzE77hlJ5RXRX4iAg/vGxLvnsfcfP9ewcYSAeeYNOPW/i0hGPZPUbsQrJytOlNRJ8zRn0JfcqEtOTrHdlJvwllboGA6v8Cbtqto7eTLtwGD3ncAzHjwn64KLmvTwiMZLULkRcPgzyGzzFpiDhjqc=
  APP_ID: 2021001157616855
  ALIURL: https://openapi.alipay.com/gateway.do

  #实名认证token
  Authorization: APPCODE 7dd5ccbdac4d4e52834b512d73c163dd
  #实名认证的url
  AuthUrl: https://cardnumber.market.alicloudapi.com/rest/160601/ocr/ocr_idcard.json

tenxun:
  #短信sdkid
  SDK_AppID: 1400624985
  #短信APPKEY
  APP_KEY: 0708f2c1ceeb81b9b618f3e6eef06085
  #短信模板id
  Template_ID: 1280839
  #通用配置id
  SecrityId: AKIDkJbdPv67tRlsiHbgU1IHzQcWAXdSL0PZ
  #通用key
  SecrityKey: yhAON6ZmjRt53lERRBftrb5JH0ThfNq4
  #APP ID
  APP_ID: 1300946353

# 加密盐
securitySalt: $1$myxiaowang

Scheduled:
  message: 0 0 0/1 * * ? *